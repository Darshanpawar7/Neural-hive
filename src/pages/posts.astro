---
import BaseLayout from "../layouts/BaseLayout.astro";

const modules = import.meta.glob("../content/posts/*.md", { eager: true }) as any;

const posts = Object.values(modules)
  .map((m:any)=>m.frontmatter)
  .sort((a:any,b:any)=>new Date(b.date).getTime()-new Date(a.date).getTime());
---
<BaseLayout title="All Posts">
  <h1># All articles</h1>

  <hr/>

  <ul class="space-y-4">
    {posts.map((p:any)=>(
      <li>
        * <a href={`/posts/${p.slug}`} class="post-link">
          {p.title}
        </a>
        <span class="text-gray-400 text-sm">
          {p.date} â€¢ {p.est_read || p.read_time || "8 min"} read
        </span>
      </li>
    ))}
  </ul>

  <hr/>
</BaseLayout>
